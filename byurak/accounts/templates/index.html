{% extends 'base.html' %}

{% load static %}

{% block contents %}

<link rel='stylesheet' href="{% static 'css/accounts.css' %}">
<link rel="stylesheet" href="{% static 'css/signupIntroduce.css' %}">

<!-- DEFAULT_USER -->
{% if profile.user_type == "default_user" %}
<div class="col-8 align-self-center mt-5" style="margin:auto;">
    <div class="row">
        <div class="profile" style="display:flex; flex-direction: row;">
            <div class="col-3 profile-picture;">
                <img style=" width: 150px; height:150px; object-fit: cover; border-radius: 100%; margin-left:35px;"
                    src="{% static 'image/profilePicture.jpg' %}">
            </div>
            <div class="col user-info" style="display:flex; flex-direction: column;">
                <div class="user-info-inner" style="display:flex; flex-direction: row;">
                    <div class="username" style="font-size: 30px; margin-left:30px;">{{profile.user.nickname}}</div>
                    <button class="setting-button">
                        <img style="width:32px; height: 32px;" src="{% static 'image/settings.png' %}" class="button">
                    </button>
                </div>
                {% if request.user != profile.user %}
                <button type="button" class="message-btn" href="#" style="margin-top:10px; margin-bottom:10px;">
                    1:1 채팅
                </button>
                {% else %}
                <button type="button" class="message-btn" href="#" style="margin-top:10px; margin-bottom:10px;">
                    프로필 편집
                </button>
                {% endif %}
                <div class="description" style="font-size:18px; margin-left:30px;font-weight: 300;">
                    안녕하세요! 저는 백엔드는 잘못하지만
                    <br>
                    열심히 하려고 노력하는 멋쟁이 사자입니다!
                </div>
            </div>
        </div>
    </div>

    <div class="main-content mt-3 border-top">
        <input id="tab1" type="radio" name="tabs" checked>
        <!--디폴트 메뉴-->
        <label for="tab1">활동한 체험</label>

        <input id="tab2" type="radio" name="tabs">
        <label for="tab2">북마크</label>

        <input id="tab3" type="radio" name="tabs">
        <label for="tab3">예약현황</label>

        <!-- 활동한 체험 -->
        <section id="content1" class="experience">
            <div class="card exp-card">
                <div class="exp-card-body">
                    <img class="exp-card-image" src="{% static 'image/myungju.jpg' %}">
                    <inline class="exp-card-text">
                        <inline class="exp-card-title">다같이 명주짜기!</inline>
                        <inline class="exp-card-date">2021년 6월 23일</inline>
                        <inline class="exp-card-content">
                            평소에 경주 여행을 즐겨 다니는데 너무 자주 가서 이번엔 뭐할까 고민하다
                            교양과목에서 들었던 명주짜기를 경험하러 가봤는데
                            우리나라 선조들이 얼마나 지혜로왔는지 알 수 있게 됐습니다 ㅎㅎ
                        </inline>
                    </inline>
                    <div class="visit-btn">
                        <button type="button" class="visit-master">
                            방문하기
                        </button>
                    </div>
                </div>
            </div>
            <div class="card exp-card">
                <div class="exp-card-body">
                    <img class="exp-card-image" src="{% static 'image/korean-traditional-dance.jpg' %}">
                    <inline class="exp-card-text">
                        <inline class="exp-card-title">서울 봉산 탈춤</inline>
                        <inline class="exp-card-date">2021년 4월 24일</inline>
                        <inline class="exp-card-content">
                            멀리 나가기는 귀찮고... 서울 안에서 우리나라 전통 문화를 경험하고 싶어서 찾아봤는데
                            생각보다 유익한 시간이었네요! 장인님께서 봉산탈춤의 의미도 설명해주시고 너무 좋았습니다!
                        </inline>
                    </inline>
                    <div class="visit-btn" style="margin:0 0 auto auto;">
                        <button type="button" class="visit-master">
                            방문하기
                        </button>
                    </div>
                </div>
            </div>
            <div class="card exp-card">
                <div class="exp-card-body">
                    <img class="exp-card-image" src="{% static 'image/line-walk.jpg' %}">
                    <inline class="exp-card-text">
                        <inline class="exp-card-title">경기도 아슬아슬 줄타기</inline>
                        <inline class="exp-card-date">2020년 5월 24일</inline>
                        <inline class="exp-card-content">
                            요즘 대세인 줄타기를 직접 경험해봤는데 생각보다 어렵고 힘들었어요 ㅠㅠ
                            그래도 너무너무 재미있었고 경기도 전통음식도 많이 먹고 와서 행복한 문화체험이었습니다!!

                        </inline>
                    </inline>
                    <div class="visit-btn">
                        <button type="button" class="visit-master">
                            방문하기
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 북마크 -->
        <section id="content2" class="bookmark">
            <div class="bookmark-container">
                <div class="card item bookmark-card">
                    <div class="bookmark-btn" style="background-image: url('/static/image/haenyu-exp.png');">
                        <div class="cover">
                            <a class="program-name" href="#">하귀 해녀체험</a>
                        </div>
                    </div>
                </div>
                <div class="card item bookmark-card">
                    <div class="bookmark-btn" style="background-image: url('/static/image/surfy-beach.jpg');">
                        <div class="cover">
                            <a class="program-name" href="#">양양 서핑체험</a>
                        </div>
                    </div>
                </div>
                <div class="card item bookmark-card">
                    <div class="bookmark-btn" style="background-image: url('/static/image/paragliding.jpeg');">
                        <div class="cover">
                            <a class="program-name" href="#">단양 패러글라이딩</a>
                        </div>
                    </div>
                </div>

            </div>

        </section>

        <!-- 예약현황 -->
        <section id="content3" class="reservation">
            <div class="card reservation-card">
                <div class="reservation-card-body">
                    <img class="reservation-card-image" src="{% static 'image/haenyu.jpg' %}">
                    <inline class="reservation-card-text">
                        <inline class="reservation-card-title">제주 범촌계해녀체험
                            </inline>
                        <inline class="reservation-card-date">2021년 7월 6일</inline>
                    </inline>
                    <div class="reservation-status complete">
                        예약완료
                    </div>
                </div>
            </div>
            <div class="card reservation-card">
                <div class="reservation-card-body">
                    <img class="reservation-card-image" src="{% static 'image/mask.jpg' %}">
                    <inline class="reservation-card-text">
                        <inline class="reservation-card-title">탈춤 공연 관람</inline>
                        <inline class="reservation-card-date">2021년 7월 3일</inline>
                    </inline>
                    <div class="reservation-status in-progress">
                        예약완료
                    </div>
                </div>
            </div>
            <div class="card reservation-card">
                <div class="reservation-card-body">
                    <img class="reservation-card-image" src="{% static 'image/chiljang.jpg' %}">
                    <inline class="reservation-card-text">
                        <inline class="reservation-card-title">칠장 설명 및 체험</inline>
                        <inline class="reservation-card-date">2021년 5월 12일</inline>
                    </inline>
                    <div class="reservation-status impossible">
                        예약불가
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>


<!-- SERVICE_PROVIDER -->
{% elif profile.user_type == "service_provider" %}
<div class="col-8 align-self-center mt-5" style="margin:auto;">
    <div class="row">
        <div class="profile" style="display:flex; flex-direction: row;">
            <div class="col-3 profile-picture;">
                {% if profile.image %}
                <img style=" width: 150px; height:150px; object-fit: cover; border-radius: 100%; margin-left:35px;"
                    src="{{profile.image.url}}">
                {% else %}
                <img style=" width: 150px; height:150px; object-fit: cover; border-radius: 100%; margin-left:35px;"
                    src="{% static 'image/haenyu.jpg' %}">
                {% endif %}
            </div>
            <div class="col user-info" style="display:flex; flex-direction: column;">
                <div class="user-info-inner" style="display:flex; flex-direction: row;">    
                    <div class="username" style="font-size: 30px; margin-left:30px;">{{profile.user.name}}</div>
                </div>
                <div style="display:flex; flex-direction: row;">
                    {% if request.user != profile.user %}
                    <button type="button" class="message-btn" onclick = "location.href='{% url 'room' profile.id %}'" style="margin-top:10px; margin-bottom:10px;">
                        1:1 채팅
                    </button>
                    <button type="button" class="message-btn" href="#"
                        style="margin-top:10px; margin-bottom:10px; margin-left:10px">
                        예약하기
                    </button>
                    <button type="button" class="message-btn" href="#" style="margin-top:10px; margin-bottom:10px; margin-left:10px">
                        북마크
                    </button>
                    
                    {% else %}
                    <button type="button" class="message-btn" href="#" style="margin-top:10px; margin-bottom:10px;">
                        프로필 편집
                    </button>

                    {% endif %}
                </div>

                <div class="description" style="font-size:18px; margin-left:30px;font-weight: 300;">
                    {% if profile.short_introduce is null %}
                    제주도의 아름다운 바다를 눈으로만 보지마세요!
                    싱싱한 해산물도 잡을 수 있는 기회! 
                    궁금하신 점은 1:1 채팅으로 문의하세요!
                    {% else %}
                    {{profile.short_introduce}}
                    {% endif %}

                </div>
            </div>
        </div>
    </div>

    <div class="main-content mt-3 border-top">
        <!--디폴트 메뉴-->
        <input id="tab1" type="radio" name="tabs" checked>
        <label for="tab1" style="font-weight:bolder;">소개글</label>

        <input id="tab2" type="radio" name="tabs">
        <label for="tab2" style="font-weight:bolder;">후기</label>

        <input id="tab3" type="radio" name="tabs">
        <label for="tab3" style="font-weight:bolder;">예약현황</label>

        <!-- 소개글 -->
        <section id="content1" class="experience">
            <div class="row">
                <div class="intro-edit" style="margin:auto;">
                    <button type="button" class="edit-btn" data-bs-toggle="modal"
                    data-bs-target="#exampleModal" data-bs-whatever="@mdo">소개글 추가</a>
                </div>
                <br>
                <!-- <div class="card intro-main"> -->
                        <div class="bookmark-container" style="padding-top:20px">
                            <br>
                                <div class="card item bookmark-card">
                                    <div class="bookmark-btn" style="background-image: url('/static/image/sea.jpg');">
                                        <div class="cover">
                                            <a class="program-name" href="#">하귀 해녀체험</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card item bookmark-card">
                                    <div class="bookmark-btn" style="background-image: url('/static/image/sora.jpg');">
                                        <div class="cover">
                                            <a class="program-name" href="#">소라 먹으러!</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card item bookmark-card">
                                    <div class="bookmark-btn" style="background-image: url('/static/image/octopus.jpg');">
                                        <div class="cover">
                                            <a class="program-name" href="#">문어 잡기</a>
                                        </div>
                                    </div>
                                </div>
                
                            </div>
            <!-- </div> -->
        </section>

        <!-- 후기 -->
        <section id="content2" class="bookmark">
            <div class="card exp-card">
                <div class="exp-card-body">
                    <img class="exp-card-image" src="{% static 'image/jeju.jpeg' %}">
                    <inline class="exp-card-text">
                        <inline class="exp-card-title">'패션팀장'님의 리뷰</inline>
                        <inline class="exp-card-date">2021년 4월 24일</inline>
                        <inline class="exp-card-content">
                            제주도 청정 푸른바다를 감상할 수 있어서 정말 좋은 기회였습니다.  
                            
                            짧은 관광에 그치지 않고 시원하게 여름을 즐길 수 있어 신선했고 추천하고 싶네요! 강력 추천합니다!!
                          
                        </inline>
                    </inline>
                    <div class="visit-btn" style="margin:0 0 auto auto;">
                        <button type="button" class="visit-master">
                            방문하기
                        </button>
                    </div>
                </div>
            </div>
            <div class="card exp-card">
                <div class="exp-card-body">
                    <img class="exp-card-image" src="{% static 'image/haenyu_2.jpg' %}">
                    <inline class="exp-card-text">
                        <inline class="exp-card-title">'만능세훈'님의 리뷰</inline>
                        <inline class="exp-card-date">2021년 5월 30일</inline>
                        <inline class="exp-card-content">
                            바다에서 직접 문어를 잡았던게 기억에 남아요. 좋은 추억을 쌓을 수 있는 경험이였고, 
                            바다 속에 신비한 바다 생명체들을 감상하고 해산물도 먹어볼 수 있어 즐거운 여행이였습니다.  
                        </inline>
                    </inline>
                    <div class="visit-btn" style="margin:0 0 auto auto;">
                        <button type="button" class="visit-master">
                            방문하기
                        </button>
                    </div>
                </div>
            </div>
            <div class="card exp-card">
                <div class="exp-card-body">
                    <img class="exp-card-image" src="{% static 'image/haenyu_3.jpg' %}">
                    <inline class="exp-card-text">
                        <inline class="exp-card-title">'채연팀장'님의 리뷰</inline>
                        <inline class="exp-card-date">2021년 3월 2일</inline>
                        <inline class="exp-card-content">
                            방금 잡아온 해산물을 직접 그자리에서 먹을 수 있어서 너무 좋았던 거 같아요. 
                            
                            깨끗한 제주 바다를 직접 느낄 수 있어서 좋았습니다. 또한 물놀이와는 색다른 체험이라 기억에 남았어요. 
                            날씨 좋은 날 예약해서 간다면 더 좋으실 거예요.
                        </inline>
                    </inline>
                    <div class="visit-btn" style="margin:0 0 auto auto;">
                        <button type="button" class="visit-master">
                            방문하기
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 예약현황 -->
        <section id="content3" class="reservation">
            <div class="card reservation-card">
                <div class="reservation-card-body">
                    <img class="reservation-card-image" src="{% static 'image/profilePicture.jpg' %}">
                    <inline class="reservation-card-text">
                        <inline class="reservation-card-title">'패션팀장'님의 예약</inline>
                        <inline class="reservation-card-date">
                            2021년 6월 24일 오후 12시
                        </inline>
                        <inline class="reservation-card-info">
                            서울시 동작구
                        </inline>
                    </inline>
                    <div class="reservation-status in-progress">
                        진행중
                    </div>
                </div>
            </div>
            <div class="card reservation-card">
                <div class="reservation-card-body">
                    <img class="reservation-card-image" src="{% static 'image/profilePicture.jpg' %}">
                    <inline class="reservation-card-text">
                        <inline class="reservation-card-title">'서울깍쟁이'님의 예약</inline>
                        <inline class="reservation-card-date">2021년 6월 24일 오전 10시</inline>
                        <inline class="reservation-card-info">
                            서울시 동작구
                        </inline>
                    </inline>
                    <div class="reservation-status complete">
                        예약완료
                    </div>
                </div>
            </div>
            <div class="card reservation-card">
                <div class="reservation-card-body">
                    <img class="reservation-card-image" src="{% static 'image/profilePicture.jpg' %}">
                    <inline class="reservation-card-text">
                        <inline class="reservation-card-title">'최강윤한'님의 예약</inline>
                        <inline class="reservation-card-date">2021년 6월 24일 오후 2시</inline>
                        <inline class="reservation-card-info">
                            서울시 동작구
                        </inline>
                    </inline>
                    <div class="reservation-status impossible">
                        예약불가
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

{% endif %}


<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">무슨 글을 써볼까요?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- 실질적으로 데이터를 입력받아서 처리할 수 있도록 하는 부분입니다! -->
                    <form method = "post" action="" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">제목</label>
                            <input type="text" class="form-control" id="recipient-name" name="title">
                        </div>
                        <div class="mb-3">
                            <label for="message-text" class="col-form-label">내용</label>
                            <textarea class="form-control" id="message-text" name = "body"></textarea>
                        </div>
                        <div class="input-group mb-3">
                            <input type="file" class="form-control" id="inputGroupFile02" name="image">
                            <label class="input-group-text" for="inputGroupFile02">Upload</label>
                        </div>
                        <div class="modal-footer">
                                    <input class="btn btn-primary" style="background-color:pink; border: None;" type = "submit" value = "완료">
                            </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
            var myModal = document.getElementById('myModal')
            var myInput = document.getElementById('myInput')
    
            myModal.addEventListener('shown.bs.modal', function () {
                myInput.focus()
            })
        </script>

{% endblock %}